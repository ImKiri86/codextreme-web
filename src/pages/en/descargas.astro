---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { getRelativeLocaleUrl } from "astro:i18n";
import { languageList } from "../../i18n/ui";
import { useTranslations } from "../../i18n/utils";

const currentLang = Astro.currentLocale || "en";
const t = useTranslations(currentLang as keyof typeof languageList);
---

<BaseLayout title={t("nav.download") + " - CodeXtreme"}>
  <!-- Anuncio NTLite -->
  <div class="bg-gradient-to-r from-[#FFD700]/90 to-[#FF6F61]/90 text-black mx-4 mt-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300">
    <div class="container mx-auto px-6 py-5 text-center text-sm md:text-base">
      <p class="leading-relaxed">
        <strong>{t("downloads.announcement.title")}</strong><br />
        {t("downloads.announcement.full_text") + " " + t("ntlite.ntlite_name") + " " + t("nav.guides")}<br /><br />
        <strong>{t("downloads.announcement.security_title")}</strong><br />
        {t("downloads.announcement.recommendation")}<br />
        • <a
          href="https://www.ntlite.com/community/index.php"
          target="_blank"
          rel="noopener noreferrer"
          class="font-bold underline hover:text-[#2d2d2d] transition-colors"
          aria-label={t("ntlite.aria.forum")}
        >
          {t("downloads.announcement.official_guides")}
        </a><br />
        • {t("downloads.announcement.our_guides")}{" "}
        <a
          href={getRelativeLocaleUrl(currentLang, "guias")}
          class="font-bold underline hover:text-[#2d2d2d] transition-colors"
        >
          {t("nav.guides")}
        </a><br /><br />
        {t("downloads.announcement.custom_tip")}
      </p>
    </div>
  </div>

  <!-- Hero Section -->
  <section class="relative bg-gradient-to-br from-[#1A1A1A] text-white py-24 overflow-hidden">
    <div class="container mx-auto text-center px-4 relative z-10">
      <div class="max-w-3xl mx-auto">
        <h1 class="text-5xl md:text-6xl font-bold mb-6 animate-fade-in [text-shadow:_0_4px_12px_rgb(0_0_0_/_30%)]">
          <span class="bg-clip-text text-transparent bg-gradient-to-r from-[#FF6F61] to-[#6B5B95]">
            {t("nav.download")}
          </span>
        </h1>
        <p class="text-xl md:text-2xl mb-8 animate-fade-in delay-150 bg-white/10 backdrop-blur-sm px-6 py-3 rounded-full inline-block">
          {t("downloads.hero_description")}
        </p>
      </div>
    </div>
  </section>

  <!-- Sección Principal -->
  <main class="bg-gradient-to-br from-[#F4F4F4] to-[#eaeaea] dark:from-[#1A1A1A] py-16 relative">
    <div class="container mx-auto px-4">
      <div class="group bg-white dark:bg-[#2A2A2A] p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 max-w-2xl mx-auto mb-16">
        <div class="border-l-4 border-[#FF6F61] pl-6">
          <h3 class="text-xl font-bold mb-2 text-gray-900 dark:text-gray-100">
            {t("downloads.latest_version.name")}
          </h3>
          <p class="text-sm text-gray-600 dark:text-gray-300 mb-4">
            {t("downloads.latest_version.build_info")}
          </p>
          <div class="flex flex-wrap gap-2 mb-6">
            <span class="bg-[#FF6F61]/10 text-[#FF6F61] px-3 py-1 rounded-full text-sm">
              {t("downloads.tags.x64_uefi")}
            </span>
            <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm">
              {t("downloads.tags.stable")}
            </span>
            <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">
              {t("downloads.tags.updated")}: 20-01-2025
            </span>
          </div>

          <div class="space-y-4 mb-6 border-t border-gray-200 dark:border-gray-700 pt-4">
            <div class="text-sm text-gray-600 dark:text-gray-300">
              <h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4">
                Características de CodeXtreme 11 24H2
              </h4>
              <ul class="list-disc pl-6 text-sm text-gray-600 dark:text-gray-300 space-y-1">
                <li>{t("downloads.features.iso_size")}</li>
                <li>{t("downloads.features.installed_size")}</li>
                <li>{t("downloads.features.debloated_optimized")}</li>
                <li>{t("downloads.features.optional_file_explorer_gallery")}</li>
                <li>{t("downloads.features.full_updatable_build")}</li>
                <li>{t("downloads.features.virtual_memory_enabled")}</li>
                <li>{t("downloads.features.automatic_updates_paused")}</li>
                <li>{t("downloads.features.intel_rst_drivers")}</li>
                <li>{t("downloads.features.optional_file_explorer_transparency")}</li>
                <li>{t("downloads.features.extreme_performance")}</li>
                <li>{t("downloads.features.uwp_apps_support")}</li>
                <li>{t("downloads.features.additional_language_support")}</li>
                <li>{t("downloads.features.optional_features_support")}</li>
                <li>{t("downloads.features.long_update_pause")}</li>
                <li>{t("downloads.features.improvements_optimizations")}</li>
                <li>{t("downloads.features.no_preinstalled_uwp_apps")}</li>
                <li>{t("downloads.features.ms_store_installer_included")}</li>
              </ul>
            </div>
          </div>

          <a
            href="https://www.mediafire.com/file_premium/uzyfrkbhhfx1oat/CodeXtremeOS-11-24H2.iso/file"
            class="inline-flex items-center text-[#FF6F61] hover:text-[#FF8C78] font-medium"
          >
            {t("downloads.download_button")}
            <span set:html={`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-4 h-4 ml-2">
              <path d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1"/>
              <path d="M12 2v12"/>
            </svg>`}></span>
          </a>
        </div>
      </div>
    </div>
  </main>

  <!-- Versiones Anteriores -->
  <section class="mb-24">
    <h2 class="text-3xl font-bold text-center mb-12">
      <span class="bg-clip-text text-transparent bg-gradient-to-r from-[#6B5B95] to-[#8B7CB0]">
        {t("downloads.previous_versions.title")}
      </span>
    </h2>
  
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <!-- Versión 1 -->
      <div class="group bg-white dark:bg-[#2A2A2A] p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1">
        <div class="border-l-4 border-[#4CAF50] pl-6">
          <h3 class="text-xl font-bold mb-2 text-gray-900 dark:text-gray-100">
            {t("downloads.version1.name")}
          </h3>
          <p class="text-sm text-gray-600 dark:text-gray-300 mb-4">
            {t("downloads.version1.build_info")}
          </p>
          <div class="flex flex-wrap gap-2 mb-6">
            <span class="bg-[#4CAF50]/10 text-[#4CAF50] px-3 py-1 rounded-full text-sm">
              {t("downloads.tags.x64_x86")}
            </span>
            <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm">
              {t("downloads.tags.stable")}
            </span>
            <span class="bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm">
              {t("downloads.tags.limited_support")}
            </span>
          </div>
          <div class="space-y-4 mb-6 border-t border-gray-200 dark:border-gray-700 pt-4">
            <div class="text-sm text-gray-600 dark:text-gray-300">
              <p class="font-medium mb-2">{t("downloads.last_update")}:</p>
            </div>
            <div class="text-sm text-gray-600 dark:text-gray-300">
              <p class="font-medium mb-2">{t("downloads.main_features")}:</p>
              <ul class="list-disc list-inside space-y-1">
                <li>{t("downloads.features.optimization")}</li>
                <li>{t("downloads.features.telemetry")}</li>
                <li>{t("downloads.features.gaming")}</li>
                <li>{t("downloads.features.security")}</li>
              </ul>
            </div>
            <div class="text-sm text-gray-600 dark:text-gray-300">
              <p class="font-medium mb-2">{t("downloads.guide_info")}:</p>
              <a
                href="https://www.ntlite.com/community/index.php?threads/guide-optimized-image.2990/"
                class="text-[#4CAF50] hover:text-[#81C784]"
                target="_blank"
              >
                {t("downloads.guide_link")}
              </a>
            </div>
          </div>
          <a
            href="https://www.mediafire.com/file_premium/br3slyc0594o9lv/CodeXtremeOS-10-22H2.iso/file"
            class="inline-flex items-center text-[#4CAF50] hover:text-[#81C784] font-medium"
          >
            {t("downloads.download_button")}
            <span set:html={`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-4 h-4 ml-2">
              <path d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1"/>
              <path d="M12 2v12"/>
            </svg>`}></span>
          </a>
        </div>
      </div>
      <!-- Versión 2 -->
      <div class="group bg-white dark:bg-[#2A2A2A] p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1">
        <div class="border-l-4 border-[#6B5B95] pl-6">
          <h3 class="text-xl font-bold mb-2 text-gray-900 dark:text-gray-100">
            {t("downloads.version2.name")}
          </h3>
          <p class="text-sm text-gray-600 dark:text-gray-300 mb-4">
            {t("downloads.version2.build_info")}
          </p>
          <div class="flex flex-wrap gap-2 mb-6">
            <span class="bg-[#6B5B95]/10 text-[#6B5B95] px-3 py-1 rounded-full text-sm">
              {t("downloads.tags.x64_uefi")}
            </span>
            <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm">
              {t("downloads.tags.stable")}
            </span>
          </div>
          <a
            href="/ruta-de-descarga-v2"
            class="inline-flex items-center text-[#6B5B95] hover:text-[#8B7CB0] font-medium"
          >
            {t("downloads.download_button")}
            <span set:html={`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-4 h-4 ml-2">
              <path d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1"/>
              <path d="M12 2v12"/>
            </svg>`}></span>
          </a>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  /* Estilos existentes */
  .group:hover h2 span,
  .group:hover h3 span {
    background-position: 100% 50%;
    transition: background-position 0.5s ease-out;
  }
  h2 span,
  h3 span {
    background-size: 200% auto;
    background-position: 0% 50%;
    transition: background-position 0.3s ease-in;
  }
</style>
