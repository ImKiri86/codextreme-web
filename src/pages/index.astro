---
import { getAbsoluteLocaleUrl } from 'astro:i18n';
// Detecta el idioma del navegador
const userLang = typeof window !== 'undefined' 
  ? (navigator.language || 'es').slice(0,2)
  : 'es';

if (import.meta.env.PROD) {
  window.location.replace(getAbsoluteLocaleUrl(userLang === 'es' ? 'es' : 'en'));
}
---

<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="refresh" content="0; url=/es/">
    <script>
      // Redirección instantánea sin mensaje
      const lang = navigator.language.startsWith('es') ? 'es' : 'en';
      window.location.href = `/${lang}/`;
    </script>
  </head>
  <body>
    <!-- Mensaje de respaldo para navegadores sin JS -->
    <p>Redireccionando... <a href="/es/">Haz clic aquí</a></p>
  </body>
</html>